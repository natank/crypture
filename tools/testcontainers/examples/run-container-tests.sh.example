#!/bin/bash
# Container tests runner with Testcontainers environment variables
# Copy this file to your service's tests/integration/ directory and customize

export TESTCONTAINERS_DOCKER_SOCKET_OVERRIDE=/var/run/docker.sock
export TESTCONTAINERS_RYUK_DISABLED=true

echo "üê≥ Running container tests with Podman..."
echo "Environment:"
echo "  TESTCONTAINERS_DOCKER_SOCKET_OVERRIDE=$TESTCONTAINERS_DOCKER_SOCKET_OVERRIDE"
echo "  TESTCONTAINERS_RYUK_DISABLED=$TESTCONTAINERS_RYUK_DISABLED"
echo ""

# Customize this command for your service
npx jest --config jest.config.containers.js --testPathPattern=tests/containers
